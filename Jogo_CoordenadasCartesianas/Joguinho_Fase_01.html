﻿<!DOCTYPE HTML>
<html>
<body class="desativar">
<canvas id="myCanvas" width="640center.x" height="360center.x"></canvas>
<link rel="stylesheet" href="classes.css">
<!-- <script src="C:\Users\Usuario\Documents\PSlibrary2019/PSlibrary20192.js"></script>  -->
<script src="PSlibrary20192.js"></script>
<script src="boneco_andando.js"></script>
<script src="http://www.fisicainvertida.com/PSlibrary/PSlibrary.js"></script>
<script>
//***********************************************//
// VARIÁVEIS ---------------------------------

var center = {      //Centro do sistema e ponto inicial do boneco
    x: 100,
    y: 100
};

var boneco = {
    vx: 0,
    vy: 0,
    angle: 0,
    vel: 1,
    walk: 0,
    //Condicionais do movimento
    up: false,
    down: false,
    right: false,
    left: false,
    //Métodos do movimento
    mup: function(){
        this.up = true;
        this.angle = 0;
    },
    mdown: function(){
        this.down = true;
        this.angle = 180;
    },
    mright: function(){
        this.right = true;
        this.angle = 90;
    },
    mleft: function(){
        this.left = true;
        this.angle = 270;
    },
    stopmoving: function(){
        this.up = false;
        this.down = false;
        this.right = false;
        this.left = false;
        this.walk = 0;
    }
};

var target = {
    x: 250,
    y: 200
}

function desenhar(){	
	clear(); 
	//**********************//	
	//ESPAÇO PARA ANIMAÇÃO, SIMULAÇÃO OU ATIVIDADE

    if(!boneco.up && !boneco.down && !boneco.right && !boneco.left){
        corpoParado(center.x + boneco.vx, center.y + boneco.vy, 50, '#fad390', '#3498db', '#fad390', darkcolor, boneco.angle);
    }
    else if(boneco.up){
        boneco.walk += boneco.vel;
        boneco.vy -= boneco.vel*1.5;
        andando(center.x + boneco.vx, center.y + boneco.vy, 50, '#fad390', '#3498db', '#fad390', darkcolor, boneco.walk, boneco.angle);
    }
    else if(boneco.down){
        boneco.walk += boneco.vel;
        boneco.vy += boneco.vel*1.5;
        andando(center.x + boneco.vx, center.y + boneco.vy, 50, '#fad390', '#3498db', '#fad390', darkcolor, boneco.walk, boneco.angle);
    }
    else if(boneco.right){
        boneco.walk += boneco.vel;
        boneco.vx += boneco.vel*1.5;
        andando(center.x + boneco.vx, center.y + boneco.vy, 50, '#fad390', '#3498db', '#fad390', darkcolor, boneco.walk, boneco.angle);
    }
    else if(boneco.left){
        boneco.walk += boneco.vel;
        boneco.vx -= boneco.vel*1.5;
        andando(center.x + boneco.vx, center.y + boneco.vy, 50, '#fad390', '#3498db', '#fad390', darkcolor, boneco.walk, boneco.angle);
    }
	//**********************//	
	animationFrame(desenhar); 	
}
draw(desenhar);
</script>
<button onmousedown="boneco.mup()" onmouseup="boneco.stopmoving()">UP</button>
<button onmousedown="boneco.mdown()" onmouseup="boneco.stopmoving()">DOWN</button>
<button onmousedown="boneco.mright()" onmouseup="boneco.stopmoving()">RIGHT</button>
<button onmousedown="boneco.mleft()" onmouseup="boneco.stopmoving()">LEFT</button>
<!-- -------------------------------------------- -->
</body>		
</html>